
services:

### This demonstrates how ENTRYPOINT and COMMAND work together

  # 1. Shell ENTRYPOINT + COMMAND
  shell-entrypoint-with-command:
    image: alpine
    entrypoint: ["/bin/sh", "-c"]
    command: "echo 'Hello from command'"
  # -> Executes: /bin/sh -c "echo 'Hello from command'"

  # 2. Exec ENTRYPOINT + Arguments as COMMAND
  exec-entrypoint-with-args:
    image: alpine
    entrypoint: ["echo", "Hello"]
    command: ["World", "from", "command"]
  # -> Executes: echo Hello World from command

  # 3. Command ENTRYPOINT + Parameters
  tool-entrypoint-with-params:
    image: alpine
    entrypoint: ["env"]
    command: ["-0"]
  # -> Executes: env -0 (shows environment with null separators)

  # 4. No ENTRYPOINT + Shell COMMAND
  no-entrypoint-shell-command:
    image: alpine
    command: ["/bin/sh", "-c", "echo 'Running in shell'; env | head -5"]
  # -> Uses default Alpine entrypoint, runs shell command

  # 5. No ENTRYPOINT + Simple COMMAND
  no-entrypoint-simple-command:
    image: alpine
    command: ["echo", "Simple command execution"]
  # -> Uses default Alpine entrypoint with exec form

  # 6. ENTRYPOINT only (no COMMAND)
  entrypoint-only:
    image: alpine
    entrypoint: ["echo", "Only entrypoint, no command"]

  # 7. Simple string ENTRYPOINT only
  string-entrypoint-only:
    image: alpine
    entrypoint: echo

  # 8. Shell variable testing in ENTRYPOINT + COMMAND
  shell-variable-test:
    image: alpine
    entrypoint: ["echo", "A $0"]
    command: ["echo", "B $0"]
  # -> Tests shell variable behavior: echo "A $0" echo "B $0"

  # 9. Default shell command (Alpine ash)
  default-shell-command:
    image: alpine
    command: ["ash", "-c", "env"]
  # -> Tests Alpine's default shell behavior

  # 10. Shell variable escaping test
  shell-variable-escape-test:
    image: alpine
    command: ["echo", "$$0"]
  # -> Tests shell variable escaping: echo $$0
